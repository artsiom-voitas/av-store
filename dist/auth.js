/*! For license information please see auth.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/js/utils.js":(e,t,n)=>{n.r(t),n.d(t,{createConfirmationModal:()=>f,createDeleteRowButton:()=>d,createSpecifiedDomElement:()=>s,disableFormButton:()=>r,extractRegistrationDateFromUser:()=>p,getMaxOfArray:()=>i,onCancel:()=>m,onConfirm:()=>u,redirectToHome:()=>c,redirectToLogin:()=>l,showNotification:()=>g,toggleInputWarning:()=>a});const o=document.querySelector("body");document.querySelector(".modal");const r=function(e,t){t.disabled=!e.checkValidity()},a=function(e,t){let n=document.querySelector(t).querySelector(".text-warning");e.checkValidity()?n.classList.remove("show"):n.classList.add("show")};let c=function(){return window.location.replace("./home.html")},l=function(){return window.location.replace("./index.html")};function i(e){return Math.max.apply(null,e)}function s(e,t,n){let o=document.createElement(e);return o.classList.add(t),o.innerHTML=n,o}const d=()=>{const e=s("button","btn","Delete");return e.classList.add("btn-danger"),e},u=()=>{let e=document.querySelector(".modal"),t=document.querySelector(".btn-danger");e.classList.remove("show"),e.remove(),t.parentElement.remove(),g("Client successfully deleted!")},m=()=>{document.querySelector(".modal").remove()};function f(e){let{onConfirm:t,onCancel:n}=e,r=s("div","modal","");r.classList.add("show");let a=s("h4","modal-header","Confirmation"),c=s("p","modal-body","Are you sure you want to delete?"),l=s("div","modal-footer",""),i=s("button","btn","Delete");i.classList.add("btn-danger","btn__delete"),i.addEventListener("click",(function(){t()}));let d=s("button","btn","Cancel");d.classList.add("btn-secondary","btn__cancel"),d.addEventListener("click",(function(){n()})),r.append(a),r.append(c),r.append(l),l.append(i),l.append(d),o.append(r)}function g(e){let t=document.createElement("div");t.classList.add("badge");let n=s("h4","notification__header",e);t.append(n);let r=document.createElement("button");t.append(r),r.classList.add("btn","btn-close"),r.addEventListener("click",(function(){t.remove()})),o.append(t),setTimeout((()=>t.remove()),5e3),document.querySelectorAll(".badge").length>1&&document.querySelector(".badge").remove()}const p=function(e,t){return new Date(e.substring(0,t))}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{n.r(o),n.d(o,{assignHandlerToLogoutButton:()=>s,checkUserData:()=>i,getExistingUser:()=>l,getParsedUserList:()=>c,getUsersFromLocalStorage:()=>t,isAuthorizedUser:()=>d,setActiveStatusToUser:()=>a,setUsersToLocalStorage:()=>r});var e=n("./src/js/utils.js");const t=function(){return localStorage.getItem("users")},r=function(e){return localStorage.setItem("users",JSON.stringify(e))},a=function(e){return localStorage.setItem("active-user",e)},c=function(){return JSON.parse(localStorage.getItem("users"))},l=function(e){let t=c().find((t=>t.email===e));if(void 0!==t)return t},i=function(e,t){return l(e).password===t},s=function(){document.querySelector(".btn-logout").addEventListener("click",(function(){localStorage.removeItem("active-user"),(0,e.redirectToLogin)()}))},d=()=>Boolean(localStorage.getItem("active-user"))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVNDLGNBQWMsZUFDN0IwQyxpQkFBaUIsU0FBUyxXQUNuQ3lDLGFBQWFtQixXQUFXLGdCQUN4QnJGLEVBQUFBLEVBQUFBLHVCQUlGc0YsRUFBbUIsSUFBZUMsUUFBUXJCLGFBQWFDLFFBQVEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdi1zdG9yZS8uL3NyYy9qcy91dGlscy5qcyIsIndlYnBhY2s6Ly9hdi1zdG9yZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9hdi1zdG9yZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYXYtc3RvcmUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9hdi1zdG9yZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2F2LXN0b3JlLy4vc3JjL2pzL2F1dGgvYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG5sZXQgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKTtcclxuXHJcbmNvbnN0IGRpc2FibGVGb3JtQnV0dG9uID0gZnVuY3Rpb24gKGZvcm0sIGJ1dHRvbkluRm9ybSkge1xyXG4gICAgYnV0dG9uSW5Gb3JtLmRpc2FibGVkID0gIWZvcm0uY2hlY2tWYWxpZGl0eSgpO1xyXG59XHJcblxyXG5jb25zdCB0b2dnbGVJbnB1dFdhcm5pbmcgPSBmdW5jdGlvbiAoaW5wdXRGaWVsZCwgc2VsZWN0b3IpIHtcclxuICAgIGxldCBmaW5kSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxyXG4gICAgbGV0IHdhcm5pbmcgPSBmaW5kSW5wdXQucXVlcnlTZWxlY3RvcignLnRleHQtd2FybmluZycpO1xyXG4gICAgaWYgKCFpbnB1dEZpZWxkLmNoZWNrVmFsaWRpdHkoKSkge1xyXG4gICAgICAgIHdhcm5pbmcuY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdhcm5pbmcuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCByZWRpcmVjdFRvSG9tZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnLi9ob21lLmh0bWwnKVxyXG59XHJcblxyXG5sZXQgcmVkaXJlY3RUb0xvZ2luID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCcuL2luZGV4Lmh0bWwnKVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRNYXhPZkFycmF5KG51bUFycmF5KSB7XHJcbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgbnVtQXJyYXkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTcGVjaWZpZWREb21FbGVtZW50KHRhZ05hbWUsIGNsYXNzTmFtZSwgaW5uZXJIVE1MKSB7XHJcbiAgICBsZXQgZG9tRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XHJcbiAgICBkb21FbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICAgIGRvbUVsZW1lbnQuaW5uZXJIVE1MID0gaW5uZXJIVE1MO1xyXG4gICAgcmV0dXJuIGRvbUVsZW1lbnRcclxufVxyXG5cclxuY29uc3QgY3JlYXRlRGVsZXRlUm93QnV0dG9uID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZGVsZXRlUm93QnV0dG9uID0gY3JlYXRlU3BlY2lmaWVkRG9tRWxlbWVudCgnYnV0dG9uJywgJ2J0bicsICdEZWxldGUnKTtcclxuICAgIGRlbGV0ZVJvd0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4tZGFuZ2VyJyk7XHJcbiAgICByZXR1cm4gZGVsZXRlUm93QnV0dG9uO1xyXG59XHJcblxyXG5jb25zdCBvbkNvbmZpcm0gPSAoKSA9PiB7XHJcbiAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKTtcclxuICAgIGxldCByb3dEZWxldGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLWRhbmdlcicpXHJcbiAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93JylcclxuICAgIG1vZGFsLnJlbW92ZSgpXHJcbiAgICByb3dEZWxldGVCdXR0b24ucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHNob3dOb3RpZmljYXRpb24oJ0NsaWVudCBzdWNjZXNzZnVsbHkgZGVsZXRlZCEnKTtcclxufVxyXG5cclxuY29uc3Qgb25DYW5jZWwgPSAoKSA9PiB7XHJcbiAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKTtcclxuICAgIG1vZGFsLnJlbW92ZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDb25maXJtYXRpb25Nb2RhbCh7IG9uQ29uZmlybSwgb25DYW5jZWwgfSkge1xyXG4gICAgbGV0IG1vZGFsID0gY3JlYXRlU3BlY2lmaWVkRG9tRWxlbWVudCgnZGl2JywgJ21vZGFsJywgJycpO1xyXG4gICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICBsZXQgbW9kYWxIZWFkZXIgPSBjcmVhdGVTcGVjaWZpZWREb21FbGVtZW50KCdoNCcsICdtb2RhbC1oZWFkZXInLCAnQ29uZmlybWF0aW9uJywgJycpO1xyXG4gICAgbGV0IG1vZGFsQm9keSA9IGNyZWF0ZVNwZWNpZmllZERvbUVsZW1lbnQoJ3AnLCAnbW9kYWwtYm9keScsICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlPycpXHJcbiAgICBsZXQgbW9kYWxGb290ZXIgPSBjcmVhdGVTcGVjaWZpZWREb21FbGVtZW50KCdkaXYnLCAnbW9kYWwtZm9vdGVyJywgJycpO1xyXG4gICAgbGV0IGRlbGV0ZUJ1dHRvbiA9IGNyZWF0ZVNwZWNpZmllZERvbUVsZW1lbnQoJ2J1dHRvbicsICdidG4nLCAnRGVsZXRlJyk7XHJcbiAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnYnRuLWRhbmdlcicsICdidG5fX2RlbGV0ZScpXHJcbiAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgb25Db25maXJtKClcclxuICAgIH0pXHJcbiAgICBsZXQgY2FuY2VsQnV0dG9uID0gY3JlYXRlU3BlY2lmaWVkRG9tRWxlbWVudCgnYnV0dG9uJywgJ2J0bicsICdDYW5jZWwnKTtcclxuICAgIGNhbmNlbEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4tc2Vjb25kYXJ5JywgJ2J0bl9fY2FuY2VsJyk7XHJcbiAgICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgb25DYW5jZWwoKVxyXG4gICAgfSlcclxuICAgIG1vZGFsLmFwcGVuZChtb2RhbEhlYWRlcik7XHJcbiAgICBtb2RhbC5hcHBlbmQobW9kYWxCb2R5KTtcclxuICAgIG1vZGFsLmFwcGVuZChtb2RhbEZvb3Rlcik7XHJcbiAgICBtb2RhbEZvb3Rlci5hcHBlbmQoZGVsZXRlQnV0dG9uKTtcclxuICAgIG1vZGFsRm9vdGVyLmFwcGVuZChjYW5jZWxCdXR0b24pXHJcbiAgICBib2R5LmFwcGVuZChtb2RhbClcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd05vdGlmaWNhdGlvbih0ZXh0KSB7XHJcbiAgICBsZXQgd2luZG93Tm90aWZpY2F0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB3aW5kb3dOb3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnYmFkZ2UnKTtcclxuICAgIGxldCBub3RpZmljYXRpb25IZWFkZXIgPSBjcmVhdGVTcGVjaWZpZWREb21FbGVtZW50KCdoNCcsICdub3RpZmljYXRpb25fX2hlYWRlcicsIHRleHQpO1xyXG4gICAgd2luZG93Tm90aWZpY2F0aW9uLmFwcGVuZChub3RpZmljYXRpb25IZWFkZXIpO1xyXG4gICAgbGV0IGNsb3NlTm90aWZpY2F0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICB3aW5kb3dOb3RpZmljYXRpb24uYXBwZW5kKGNsb3NlTm90aWZpY2F0aW9uKVxyXG4gICAgY2xvc2VOb3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnYnRuJywgJ2J0bi1jbG9zZScpO1xyXG4gICAgY2xvc2VOb3RpZmljYXRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgd2luZG93Tm90aWZpY2F0aW9uLnJlbW92ZSgpO1xyXG4gICAgfSlcclxuICAgIGJvZHkuYXBwZW5kKHdpbmRvd05vdGlmaWNhdGlvbilcclxuICAgIHNldFRpbWVvdXQoKCkgPT5cclxuICAgICAgICB3aW5kb3dOb3RpZmljYXRpb24ucmVtb3ZlKClcclxuICAgICAgICAsIDUwMDApO1xyXG4gICAgbGV0IGFsbE5vdGlmaWNhdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFkZ2UnKVxyXG4gICAgaWYgKGFsbE5vdGlmaWNhdGlvbnMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYWRnZScpLnJlbW92ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBleHRyYWN0UmVnaXN0cmF0aW9uRGF0ZUZyb21Vc2VyID0gZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbkRhdGUsIG51bWJlck9mQ2hhcmFjdGVyc1RvUHJvY2Vzcykge1xyXG4gICAgcmV0dXJuIG5ldyBEYXRlKHJlZ2lzdHJhdGlvbkRhdGUuc3Vic3RyaW5nKDAsIG51bWJlck9mQ2hhcmFjdGVyc1RvUHJvY2VzcykpO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgZGlzYWJsZUZvcm1CdXR0b24sXHJcbiAgICB0b2dnbGVJbnB1dFdhcm5pbmcsXHJcbiAgICByZWRpcmVjdFRvSG9tZSxcclxuICAgIHJlZGlyZWN0VG9Mb2dpbixcclxuICAgIGV4dHJhY3RSZWdpc3RyYXRpb25EYXRlRnJvbVVzZXIsXHJcbiAgICBnZXRNYXhPZkFycmF5LFxyXG4gICAgY3JlYXRlU3BlY2lmaWVkRG9tRWxlbWVudCxcclxuICAgIGNyZWF0ZUNvbmZpcm1hdGlvbk1vZGFsLFxyXG4gICAgY3JlYXRlRGVsZXRlUm93QnV0dG9uLFxyXG4gICAgc2hvd05vdGlmaWNhdGlvbixcclxuICAgIG9uQ2FuY2VsLFxyXG4gICAgb25Db25maXJtLFxyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHtcclxuICAgIHJlZGlyZWN0VG9Ib21lLFxyXG4gICAgcmVkaXJlY3RUb0xvZ2luLFxyXG59IGZyb20gJy4uL3V0aWxzJ1xyXG5cclxuY29uc3QgZ2V0VXNlcnNGcm9tTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VycycpXHJcbn1cclxuXHJcbmNvbnN0IHNldFVzZXJzVG9Mb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJzJywgSlNPTi5zdHJpbmdpZnkob2JqZWN0KSlcclxufVxyXG5cclxuY29uc3Qgc2V0QWN0aXZlU3RhdHVzVG9Vc2VyID0gZnVuY3Rpb24gKHVzZXJFbWFpbCkge1xyXG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY3RpdmUtdXNlcicsIHVzZXJFbWFpbClcclxufVxyXG5cclxuY29uc3QgZ2V0UGFyc2VkVXNlckxpc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcnMnKSlcclxufVxyXG5cclxuY29uc3QgZ2V0RXhpc3RpbmdVc2VyID0gZnVuY3Rpb24gKGVtYWlsVmFsdWUpIHtcclxuICAgIGxldCB1c2VycyA9IGdldFBhcnNlZFVzZXJMaXN0KClcclxuICAgIGxldCB1c2VyICA9IHVzZXJzLmZpbmQodXNlciA9PiB1c2VyLmVtYWlsID09PSBlbWFpbFZhbHVlKVxyXG4gICAgaWYgKHVzZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiB1c2VyXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrVXNlckRhdGEgPSBmdW5jdGlvbiAoZW1haWxWYWx1ZSwgcGFzc3dvcmRWYWx1ZSkge1xyXG4gICAgbGV0IHVzZXIgPSBnZXRFeGlzdGluZ1VzZXIoZW1haWxWYWx1ZSk7XHJcbiAgICByZXR1cm4gdXNlclsncGFzc3dvcmQnXSA9PT0gcGFzc3dvcmRWYWx1ZTtcclxufVxyXG5cclxuY29uc3QgYXNzaWduSGFuZGxlclRvTG9nb3V0QnV0dG9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tbG9nb3V0JylcclxuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYWN0aXZlLXVzZXInKVxyXG4gICAgICAgIHJlZGlyZWN0VG9Mb2dpbigpXHJcbiAgICB9KVxyXG59XHJcblxyXG5jb25zdCBpc0F1dGhvcml6ZWRVc2VyID0gKCkgPT4geyByZXR1cm4gQm9vbGVhbihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWN0aXZlLXVzZXInKSkgfVxyXG5cclxuZXhwb3J0IHtcclxuICAgIGFzc2lnbkhhbmRsZXJUb0xvZ291dEJ1dHRvbixcclxuICAgIGNoZWNrVXNlckRhdGEsXHJcbiAgICBnZXRFeGlzdGluZ1VzZXIsXHJcbiAgICBnZXRQYXJzZWRVc2VyTGlzdCxcclxuICAgIHNldEFjdGl2ZVN0YXR1c1RvVXNlcixcclxuICAgIHNldFVzZXJzVG9Mb2NhbFN0b3JhZ2UsXHJcbiAgICBnZXRVc2Vyc0Zyb21Mb2NhbFN0b3JhZ2UsXHJcbiAgICBpc0F1dGhvcml6ZWRVc2VyXHJcbn1cclxuIl0sIm5hbWVzIjpbImJvZHkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJkaXNhYmxlRm9ybUJ1dHRvbiIsImZvcm0iLCJidXR0b25JbkZvcm0iLCJkaXNhYmxlZCIsImNoZWNrVmFsaWRpdHkiLCJ0b2dnbGVJbnB1dFdhcm5pbmciLCJpbnB1dEZpZWxkIiwic2VsZWN0b3IiLCJ3YXJuaW5nIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwicmVkaXJlY3RUb0hvbWUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlcGxhY2UiLCJyZWRpcmVjdFRvTG9naW4iLCJnZXRNYXhPZkFycmF5IiwibnVtQXJyYXkiLCJNYXRoIiwibWF4IiwiYXBwbHkiLCJjcmVhdGVTcGVjaWZpZWREb21FbGVtZW50IiwidGFnTmFtZSIsImNsYXNzTmFtZSIsImlubmVySFRNTCIsImRvbUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlRGVsZXRlUm93QnV0dG9uIiwiZGVsZXRlUm93QnV0dG9uIiwib25Db25maXJtIiwibW9kYWwiLCJyb3dEZWxldGVCdXR0b24iLCJwYXJlbnRFbGVtZW50Iiwic2hvd05vdGlmaWNhdGlvbiIsIm9uQ2FuY2VsIiwiY3JlYXRlQ29uZmlybWF0aW9uTW9kYWwiLCJtb2RhbEhlYWRlciIsIm1vZGFsQm9keSIsIm1vZGFsRm9vdGVyIiwiZGVsZXRlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNhbmNlbEJ1dHRvbiIsImFwcGVuZCIsInRleHQiLCJ3aW5kb3dOb3RpZmljYXRpb24iLCJub3RpZmljYXRpb25IZWFkZXIiLCJjbG9zZU5vdGlmaWNhdGlvbiIsInNldFRpbWVvdXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiZXh0cmFjdFJlZ2lzdHJhdGlvbkRhdGVGcm9tVXNlciIsInJlZ2lzdHJhdGlvbkRhdGUiLCJudW1iZXJPZkNoYXJhY3RlcnNUb1Byb2Nlc3MiLCJEYXRlIiwic3Vic3RyaW5nIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJnZXRVc2Vyc0Zyb21Mb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0VXNlcnNUb0xvY2FsU3RvcmFnZSIsIm9iamVjdCIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0QWN0aXZlU3RhdHVzVG9Vc2VyIiwidXNlckVtYWlsIiwiZ2V0UGFyc2VkVXNlckxpc3QiLCJwYXJzZSIsImdldEV4aXN0aW5nVXNlciIsImVtYWlsVmFsdWUiLCJ1c2VyIiwiZmluZCIsImVtYWlsIiwiY2hlY2tVc2VyRGF0YSIsInBhc3N3b3JkVmFsdWUiLCJhc3NpZ25IYW5kbGVyVG9Mb2dvdXRCdXR0b24iLCJyZW1vdmVJdGVtIiwiaXNBdXRob3JpemVkVXNlciIsIkJvb2xlYW4iXSwic291cmNlUm9vdCI6IiJ9