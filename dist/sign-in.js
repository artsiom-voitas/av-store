/*! For license information please see sign-in.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/js/utils.js":(e,t,n)=>{n.r(t),n.d(t,{authorizedUserCheck:()=>u,checkUserData:()=>s,disableFormButton:()=>o,logout:()=>a,redirectToHome:()=>c,toggleInputWarning:()=>r,unauthorizedUserCheck:()=>l,userFinder:()=>i});let o=function(e,t){t.disabled=!e.checkValidity()},r=function(e,t){let n=document.querySelector(t).querySelector(".text-warning");e.checkValidity()?n.classList.remove("show"):n.classList.add("show")};const i=function(e){let t=JSON.parse(localStorage.getItem("users")),n=t.findIndex((t=>t.email===e));return-1===n?-1:t[n]};let s=function(e,t){let n=i(e);if(-1!==n)return n.password===t},a=function(){document.querySelector(".btn-logout").addEventListener("click",(function(){localStorage.removeItem("active-user"),d()}))},l=function(){setTimeout((function(){null===localStorage.getItem("active-user")&&d()}),1)},u=function(){setTimeout((function(){null!==localStorage.getItem("active-user")&&c()}),1)},c=function(){window.location.replace("./home.html")},d=function(){window.location.replace("./index.html")}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{n.r(o);var e=n("./src/js/utils.js");let t=document.forms["sign-in"],r=t.elements["user-email"],i=t.elements["user-password"],s=t.elements["authorization-button"];t.addEventListener("input",(function(){(0,e.disableFormButton)(this,s)})),r.addEventListener("change",(function(){(0,e.toggleInputWarning)(this,".input-email")})),i.addEventListener("change",(function(){(0,e.toggleInputWarning)(this,".input-password")})),t.addEventListener("submit",(function(t){t.preventDefault();let n=document.querySelector(".log-in");n.classList.remove("show"),n.innerHTML="";let o=r.value,s=i.value;if((0,e.userFinder)(o))!0===(0,e.checkUserData)(o,s)?(n.classList.remove("text-warning"),n.innerHTML="You are successfully logged in!",n.classList.add("show"),localStorage.setItem("active-user",o),setTimeout((()=>{(0,e.redirectToHome)()}),1e3)):(n.innerHTML="Oops, something wrong with yours email or password!",n.classList.add("text-warning"),n.classList.add("show"));else{let e=document.querySelector(".text-warning");e.innerHTML="A user with such email address does not exist",e.classList.add("show")}})),(0,e.authorizedUserCheck)()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBQUEsZUFBY2lELEVBQWdCQyxJQUM5QkgsRUFBYTVELFVBQVVDLE9BQU8sZ0JBQzlCMkQsRUFBYUMsVUFBWSxrQ0FDekJELEVBQWE1RCxVQUFVRSxJQUFJLFFBQzNCTSxhQUFhd0QsUUFBUSxjQUFlRixHQUNwQzFDLFlBQVcsTUFDUkUsRUFBQUEsRUFBQUEsb0JBQ0EsT0FFSHNDLEVBQWFDLFVBQVksc0RBQ3pCRCxFQUFhNUQsVUFBVUUsSUFBSSxnQkFDM0IwRCxFQUFhNUQsVUFBVUUsSUFBSSxhQWhCRixDQUM3QixJQUFJTCxFQUFVQyxTQUFTQyxjQUFjLGlCQUNyQ0YsRUFBUWdFLFVBQVksZ0RBQ3BCaEUsRUFBUUcsVUFBVUUsSUFBSSxhQWtCOUJtQixFQUFBQSxFQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2F2LXN0b3JlLy4vc3JjL2pzL3V0aWxzLmpzIiwid2VicGFjazovL2F2LXN0b3JlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2F2LXN0b3JlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9hdi1zdG9yZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2F2LXN0b3JlL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vYXYtc3RvcmUvLi9zcmMvanMvc2lnbi1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZGlzYWJsZUZvcm1CdXR0b24gPSBmdW5jdGlvbiAoZm9ybSwgYnV0dG9uSW5Gb3JtKSB7XHJcbiAgICBidXR0b25JbkZvcm0uZGlzYWJsZWQgPSAhZm9ybS5jaGVja1ZhbGlkaXR5KCk7XHJcbn1cclxuXHJcbmxldCB0b2dnbGVJbnB1dFdhcm5pbmcgPSBmdW5jdGlvbiAoaW5wdXRGaWVsZCwgc2VsZWN0b3IpIHtcclxuICAgIGxldCBmaW5kSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxyXG4gICAgbGV0IHdhcm5pbmcgPSBmaW5kSW5wdXQucXVlcnlTZWxlY3RvcignLnRleHQtd2FybmluZycpO1xyXG4gICAgaWYgKCFpbnB1dEZpZWxkLmNoZWNrVmFsaWRpdHkoKSkge1xyXG4gICAgICAgIHdhcm5pbmcuY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdhcm5pbmcuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHVzZXJMaXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJzJykpO1xyXG59XHJcblxyXG5jb25zdCB1c2VyRmluZGVyID0gZnVuY3Rpb24gKGVtYWlsVmFsdWUpIHtcclxuICAgIGxldCB1c2VycyA9IHVzZXJMaXN0KCk7XHJcbiAgICBsZXQgdXNlciA9IHVzZXJzLmZpbmRJbmRleCh1c2VyID0+IHVzZXIuZW1haWwgPT09IGVtYWlsVmFsdWUpO1xyXG4gICAgaWYgKHVzZXIgPT09IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIC0xXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB1c2Vyc1t1c2VyXTtcclxuICAgIH1cclxufVxyXG5cclxubGV0IGNoZWNrVXNlckRhdGEgPSBmdW5jdGlvbiAoZW1haWxWYWx1ZSwgcGFzc3dvcmRWYWx1ZSkge1xyXG4gICAgbGV0IHVzZXIgPSB1c2VyRmluZGVyKGVtYWlsVmFsdWUpO1xyXG4gICAgaWYgKHVzZXIgIT09IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIHVzZXJbJ3Bhc3N3b3JkJ10gPT09IHBhc3N3b3JkVmFsdWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBsb2dvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgbG9nb3V0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ0bi1sb2dvdXQnKTtcclxuICAgIGxvZ291dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYWN0aXZlLXVzZXInKTtcclxuICAgICAgICByZWRpcmVjdFRvTG9naW4oKVxyXG4gICAgfSlcclxufVxyXG5cclxubGV0IHVuYXV0aG9yaXplZFVzZXJDaGVjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBzdGF0dXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWN0aXZlLXVzZXInKVxyXG4gICAgICAgIGlmIChzdGF0dXMgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmVkaXJlY3RUb0xvZ2luKClcclxuICAgICAgICB9XHJcbiAgICB9LCAxKVxyXG59XHJcblxyXG5sZXQgYXV0aG9yaXplZFVzZXJDaGVjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBzdGF0dXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYWN0aXZlLXVzZXInKVxyXG4gICAgICAgIGlmIChzdGF0dXMgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmVkaXJlY3RUb0hvbWUoKVxyXG4gICAgICAgIH1cclxuICAgIH0sIDEpXHJcbn1cclxuXHJcbmxldCByZWRpcmVjdFRvSG9tZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCcuL2hvbWUuaHRtbCcpXHJcbn1cclxuXHJcbmxldCByZWRpcmVjdFRvTG9naW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnLi9pbmRleC5odG1sJylcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIGRpc2FibGVGb3JtQnV0dG9uLFxyXG4gICAgdG9nZ2xlSW5wdXRXYXJuaW5nLFxyXG4gICAgY2hlY2tVc2VyRGF0YSxcclxuICAgIHVzZXJGaW5kZXIsXHJcbiAgICBsb2dvdXQsXHJcbiAgICB1bmF1dGhvcml6ZWRVc2VyQ2hlY2ssXHJcbiAgICBhdXRob3JpemVkVXNlckNoZWNrLFxyXG4gICAgcmVkaXJlY3RUb0hvbWVcclxufVxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IGRpc2FibGVGb3JtQnV0dG9uLCB1c2VyRmluZGVyLCB0b2dnbGVJbnB1dFdhcm5pbmcsIGNoZWNrVXNlckRhdGEsIGF1dGhvcml6ZWRVc2VyQ2hlY2ssIHJlZGlyZWN0VG9Ib21lIH0gZnJvbSAnLi91dGlscy5qcyc7XHJcblxyXG5sZXQgc2lnbkluRm9ybSA9IGRvY3VtZW50LmZvcm1zWydzaWduLWluJ107XHJcbmxldCB1c2VyRW1haWwgPSBzaWduSW5Gb3JtLmVsZW1lbnRzWyd1c2VyLWVtYWlsJ107XHJcbmxldCB1c2VyUGFzc3dvcmQgPSBzaWduSW5Gb3JtLmVsZW1lbnRzWyd1c2VyLXBhc3N3b3JkJ107XHJcbmxldCBsb2dpbkJ1dHRvbiA9IHNpZ25JbkZvcm0uZWxlbWVudHNbJ2F1dGhvcml6YXRpb24tYnV0dG9uJ107XHJcblxyXG5zaWduSW5Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgZGlzYWJsZUZvcm1CdXR0b24odGhpcywgbG9naW5CdXR0b24pXHJcbn0pO1xyXG5cclxudXNlckVtYWlsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIHRvZ2dsZUlucHV0V2FybmluZyh0aGlzLCAnLmlucHV0LWVtYWlsJylcclxufSlcclxuXHJcbnVzZXJQYXNzd29yZC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB0b2dnbGVJbnB1dFdhcm5pbmcodGhpcywgJy5pbnB1dC1wYXNzd29yZCcpXHJcbn0pXHJcblxyXG5zaWduSW5Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGxldCBsb2dpbk1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9nLWluJylcclxuICAgIGxvZ2luTWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XHJcbiAgICBsb2dpbk1lc3NhZ2UuaW5uZXJIVE1MID0gJydcclxuICAgIGxldCB1c2VyRW1haWxWYWx1ZSA9IHVzZXJFbWFpbC52YWx1ZTtcclxuICAgIGxldCB1c2VyUGFzc3dvcmRWYWx1ZSA9IHVzZXJQYXNzd29yZC52YWx1ZTtcclxuICAgIGlmICghdXNlckZpbmRlcih1c2VyRW1haWxWYWx1ZSkpIHtcclxuICAgICAgICBsZXQgd2FybmluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXh0LXdhcm5pbmcnKTtcclxuICAgICAgICB3YXJuaW5nLmlubmVySFRNTCA9IFwiQSB1c2VyIHdpdGggc3VjaCBlbWFpbCBhZGRyZXNzIGRvZXMgbm90IGV4aXN0XCI7XHJcbiAgICAgICAgd2FybmluZy5jbGFzc0xpc3QuYWRkKCdzaG93JylcclxuICAgIH0gZWxzZSAge1xyXG4gICAgICAgIGlmIChjaGVja1VzZXJEYXRhKHVzZXJFbWFpbFZhbHVlLCB1c2VyUGFzc3dvcmRWYWx1ZSkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgbG9naW5NZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtd2FybmluZycpXHJcbiAgICAgICAgICAgIGxvZ2luTWVzc2FnZS5pbm5lckhUTUwgPSAnWW91IGFyZSBzdWNjZXNzZnVsbHkgbG9nZ2VkIGluISdcclxuICAgICAgICAgICAgbG9naW5NZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FjdGl2ZS11c2VyJywgdXNlckVtYWlsVmFsdWUpXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICByZWRpcmVjdFRvSG9tZSgpXHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxvZ2luTWVzc2FnZS5pbm5lckhUTUwgPSAnT29wcywgc29tZXRoaW5nIHdyb25nIHdpdGggeW91cnMgZW1haWwgb3IgcGFzc3dvcmQhJ1xyXG4gICAgICAgICAgICBsb2dpbk1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgndGV4dC13YXJuaW5nJyk7XHJcbiAgICAgICAgICAgIGxvZ2luTWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KVxyXG5cclxuYXV0aG9yaXplZFVzZXJDaGVjaygpXHJcbiJdLCJuYW1lcyI6WyJkaXNhYmxlRm9ybUJ1dHRvbiIsImZvcm0iLCJidXR0b25JbkZvcm0iLCJkaXNhYmxlZCIsImNoZWNrVmFsaWRpdHkiLCJ0b2dnbGVJbnB1dFdhcm5pbmciLCJpbnB1dEZpZWxkIiwic2VsZWN0b3IiLCJ3YXJuaW5nIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwidXNlckZpbmRlciIsImVtYWlsVmFsdWUiLCJ1c2VycyIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJ1c2VyIiwiZmluZEluZGV4IiwiZW1haWwiLCJjaGVja1VzZXJEYXRhIiwicGFzc3dvcmRWYWx1ZSIsImxvZ291dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVJdGVtIiwicmVkaXJlY3RUb0xvZ2luIiwidW5hdXRob3JpemVkVXNlckNoZWNrIiwic2V0VGltZW91dCIsImF1dGhvcml6ZWRVc2VyQ2hlY2siLCJyZWRpcmVjdFRvSG9tZSIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVwbGFjZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwic2lnbkluRm9ybSIsImZvcm1zIiwidXNlckVtYWlsIiwiZWxlbWVudHMiLCJ1c2VyUGFzc3dvcmQiLCJsb2dpbkJ1dHRvbiIsInRoaXMiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwibG9naW5NZXNzYWdlIiwiaW5uZXJIVE1MIiwidXNlckVtYWlsVmFsdWUiLCJ1c2VyUGFzc3dvcmRWYWx1ZSIsInNldEl0ZW0iXSwic291cmNlUm9vdCI6IiJ9