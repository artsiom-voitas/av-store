/*! For license information please see sign-up.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/js/utils.js":(e,t,n)=>{n.r(t),n.d(t,{authorizedUserCheck:()=>u,checkUserData:()=>i,createConfirmationModal:()=>h,createSpecifiedDomElement:()=>g,disableFormButton:()=>r,formatDate:()=>p,getMaxOfArray:()=>f,logout:()=>l,notification:()=>v,redirectToHome:()=>d,toggleInputWarning:()=>a,unauthorizedUserCheck:()=>c,userFinder:()=>s});const o=document.querySelector("body");let r=function(e,t){t.disabled=!e.checkValidity()},a=function(e,t){let n=document.querySelector(t).querySelector(".text-warning");e.checkValidity()?n.classList.remove("show"):n.classList.add("show")};const s=function(e){let t=JSON.parse(localStorage.getItem("users")),n=t.findIndex((t=>t.email===e));return-1===n?-1:t[n]};let i=function(e,t){let n=s(e);if(-1!==n)return n.password===t},l=function(){document.querySelector(".btn-logout").addEventListener("click",(function(){localStorage.removeItem("active-user"),m()}))},c=function(){setTimeout((function(){null===localStorage.getItem("active-user")&&m()}),1)},u=function(){setTimeout((function(){null!==localStorage.getItem("active-user")&&d()}),1)},d=function(){window.location.replace("./home.html")},m=function(){window.location.replace("./index.html")};function p(e){let t=e.getDate();t<10&&(t="0"+t);let n=e.getMonth()+1;n<10&&(n="0"+n);let o=e.getFullYear();return o<10&&(o="0"+o),t+"."+n+"."+o}function f(e){return Math.max.apply(null,e)}function g(e,t,n){let o=document.createElement(e);return o.classList.add(t),o.innerHTML=n,o}function h(){let e=g("div","modal",""),t=g("h4","modal-header","Confirmation"),n=g("p","modal-body","Are you sure you want to delete?"),r=g("div","modal-footer",""),a=g("button","btn","Delete");a.classList.add("btn-danger","btn__delete");let s=g("button","btn","Cancel");s.classList.add("btn-secondary","btn__cancel"),e.append(t),e.append(n),e.append(r),r.append(a),r.append(s),o.append(e)}function v(e){let t=document.createElement("div");t.classList.add("badge");let n=g("h4","notification__header",e);t.append(n);let r=document.createElement("button");t.append(r),r.classList.add("btn","btn-close"),r.addEventListener("click",(function(){t.remove()})),o.append(t)}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{n.r(o);var e=n("./src/js/utils.js");let t=document.forms["sign-up"],r=t.elements["new-user-email"],a=t.elements["new-user-password"],s=t.elements["confirm-password"],i=t.elements["sign-up-button"];t.addEventListener("input",(function(){(0,e.disableFormButton)(this,i)})),r.addEventListener("change",(function(){(0,e.toggleInputWarning)(this,".input-email")})),a.addEventListener("change",(function(){(0,e.toggleInputWarning)(this,".input-password")})),t.addEventListener("submit",(function(t){t.preventDefault();let n=document.querySelector(".text-warning"),o=document.querySelector(".confirm-password"),i=document.querySelector(".registered");i.classList.remove("show"),i.innerHTML="";let l=r.value,c=a.value,u=s.value;if(-1!==(0,e.userFinder)(l))n.innerHTML="A user with the same email already exists. Try to Sign In",n.classList.add("show");else if(n.innerHTML="The email address is incorrect. Please retry...",n.classList.remove("show"),u===c){i.classList.add("show"),o.classList.remove("show");let e=JSON.parse(localStorage.getItem("users"));e.push({email:r.value,password:a.value}),localStorage.setItem("users",JSON.stringify(e)),i.innerHTML="You are successfully Signed Up!",setTimeout((()=>{window.location.replace("./index.html")}),2e3)}else o.classList.add("show")})),(0,e.authorizedUserCheck)()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2lnbi11cC5qcyIsIm1hcHBpbmdzIjoiOzRXQUFBLE1BQU1BLEVBQU9DLFNBQVNDLGNBQWMsUUFFcEMsSUFBSUMsRUFBb0IsU0FBVUMsRUFBTUMsR0FDcENBLEVBQWFDLFVBQVlGLEVBQUtHLGlCQUc5QkMsRUFBcUIsU0FBVUMsRUFBWUMsR0FDM0MsSUFDSUMsRUFEWVYsU0FBU0MsY0FBY1EsR0FDZlIsY0FBYyxpQkFDakNPLEVBQVdGLGdCQUdaSSxFQUFRQyxVQUFVQyxPQUFPLFFBRnpCRixFQUFRQyxVQUFVRSxJQUFJLFNBTTlCLE1BSU1DLEVBQWEsU0FBVUMsR0FDekIsSUFBSUMsRUFKR0MsS0FBS0MsTUFBTUMsYUFBYUMsUUFBUSxVQUtuQ0MsRUFBT0wsRUFBTU0sV0FBVUQsR0FBUUEsRUFBS0UsUUFBVVIsSUFDbEQsT0FBYyxJQUFWTSxHQUNRLEVBRURMLEVBQU1LLElBSXJCLElBQUlHLEVBQWdCLFNBQVVULEVBQVlVLEdBQ3RDLElBQUlKLEVBQU9QLEVBQVdDLEdBQ3RCLElBQWMsSUFBVk0sRUFDQSxPQUFPQSxFQUFJLFdBQWlCSSxHQUloQ0MsRUFBUyxXQUNVMUIsU0FBU0MsY0FBYyxlQUM3QjBCLGlCQUFpQixTQUFTLFdBQ25DUixhQUFhUyxXQUFXLGVBQ3hCQyxRQUlKQyxFQUF3QixXQUN4QkMsWUFBVyxXQUVRLE9BREZaLGFBQWFDLFFBQVEsZ0JBRTlCUyxNQUVMLElBR0hHLEVBQXNCLFdBQ3RCRCxZQUFXLFdBRVEsT0FERlosYUFBYUMsUUFBUSxnQkFFOUJhLE1BRUwsSUFHSEEsRUFBaUIsV0FDakJDLE9BQU9DLFNBQVNDLFFBQVEsZ0JBR3hCUCxFQUFrQixXQUNsQkssT0FBT0MsU0FBU0MsUUFBUSxpQkFHNUIsU0FBU0MsRUFBV0MsR0FDaEIsSUFBSUMsRUFBS0QsRUFBS0UsVUFDVkQsRUFBSyxLQUFJQSxFQUFLLElBQU1BLEdBRXhCLElBQUlFLEVBQUtILEVBQUtJLFdBQWEsRUFDdkJELEVBQUssS0FBSUEsRUFBSyxJQUFNQSxHQUV4QixJQUFJRSxFQUFLTCxFQUFLTSxjQUdkLE9BRklELEVBQUssS0FBSUEsRUFBSyxJQUFNQSxHQUVqQkosRUFBSyxJQUFNRSxFQUFLLElBQU1FLEVBR2pDLFNBQVNFLEVBQWNDLEdBQ25CLE9BQU9DLEtBQUtDLElBQUlDLE1BQU0sS0FBTUgsR0FHaEMsU0FBU0ksRUFBMEJDLEVBQVNDLEVBQVdDLEdBQ25ELElBQUlDLEVBQWF0RCxTQUFTdUQsY0FBY0osR0FHeEMsT0FGQUcsRUFBVzNDLFVBQVVFLElBQUl1QyxHQUN6QkUsRUFBV0QsVUFBWUEsRUFDaEJDLEVBR1gsU0FBU0UsSUFDTCxJQUFJQyxFQUFRUCxFQUEwQixNQUFPLFFBQVMsSUFDbERRLEVBQWNSLEVBQTBCLEtBQU0sZUFBZ0IsZ0JBQzlEUyxFQUFZVCxFQUEwQixJQUFLLGFBQWMsb0NBQ3pEVSxFQUFjVixFQUEwQixNQUFPLGVBQWdCLElBQy9EVyxFQUFlWCxFQUEwQixTQUFVLE1BQU8sVUFDOURXLEVBQWFsRCxVQUFVRSxJQUFJLGFBQWMsZUFDekMsSUFBSWlELEVBQWVaLEVBQTBCLFNBQVUsTUFBTyxVQUM5RFksRUFBYW5ELFVBQVVFLElBQUksZ0JBQWlCLGVBQzVDNEMsRUFBTU0sT0FBT0wsR0FDYkQsRUFBTU0sT0FBT0osR0FDYkYsRUFBTU0sT0FBT0gsR0FDYkEsRUFBWUcsT0FBT0YsR0FDbkJELEVBQVlHLE9BQU9ELEdBQ25CL0QsRUFBS2dFLE9BQU9OLEdBR2hCLFNBQVNPLEVBQWFDLEdBQ2xCLElBQUlDLEVBQXFCbEUsU0FBU3VELGNBQWMsT0FDaERXLEVBQW1CdkQsVUFBVUUsSUFBSSxTQUNqQyxJQUFJc0QsRUFBcUJqQixFQUEwQixLQUFNLHVCQUF3QmUsR0FDakZDLEVBQW1CSCxPQUFPSSxHQUMxQixJQUFJQyxFQUFvQnBFLFNBQVN1RCxjQUFjLFVBQy9DVyxFQUFtQkgsT0FBT0ssR0FDMUJBLEVBQWtCekQsVUFBVUUsSUFBSSxNQUFPLGFBQ3ZDdUQsRUFBa0J6QyxpQkFBaUIsU0FBUyxXQUN4Q3VDLEVBQW1CdEQsWUFFdkJiLEVBQUtnRSxPQUFPRyxNQzFIWkcsRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYUUsUUFHckIsSUFBSUMsRUFBU04sRUFBeUJFLEdBQVksQ0FHakRHLFFBQVMsSUFPVixPQUhBRSxFQUFvQkwsR0FBVUksRUFBUUEsRUFBT0QsUUFBU0osR0FHL0NLLEVBQU9ELFFDcEJmSixFQUFvQk8sRUFBSSxDQUFDSCxFQUFTSSxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hSLEVBQW9CVSxFQUFFRixFQUFZQyxLQUFTVCxFQUFvQlUsRUFBRU4sRUFBU0ssSUFDNUVFLE9BQU9DLGVBQWVSLEVBQVNLLEVBQUssQ0FBRUksWUFBWSxFQUFNQyxJQUFLTixFQUFXQyxNQ0ozRVQsRUFBb0JVLEVBQUksQ0FBQ0ssRUFBS0MsSUFBVUwsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsR0NDbEZoQixFQUFvQm9CLEVBQUtoQixJQUNILG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDWCxPQUFPQyxlQUFlUixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEWixPQUFPQyxlQUFlUixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sd0RDSHZELElBQUlDLEVBQWE5RixTQUFTK0YsTUFBTSxXQUM1QkMsRUFBZUYsRUFBV0csU0FBUyxrQkFDbkNDLEVBQWtCSixFQUFXRyxTQUFTLHFCQUN0Q0UsRUFBeUJMLEVBQVdHLFNBQVMsb0JBQzdDRyxFQUFlTixFQUFXRyxTQUFTLGtCQUV2Q0gsRUFBV25FLGlCQUFpQixTQUFTLFlBQ2pDekIsRUFBQUEsRUFBQUEsbUJBQWtCbUcsS0FBTUQsTUFHNUJKLEVBQWFyRSxpQkFBaUIsVUFBVSxZQUNwQ3BCLEVBQUFBLEVBQUFBLG9CQUFtQjhGLEtBQU0sbUJBRzdCSCxFQUFnQnZFLGlCQUFpQixVQUFVLFlBQ3ZDcEIsRUFBQUEsRUFBQUEsb0JBQW1COEYsS0FBTSxzQkFHN0JQLEVBQVduRSxpQkFBaUIsVUFBVSxTQUFVMkUsR0FDNUNBLEVBQU1DLGlCQUNOLElBQUk3RixFQUFVVixTQUFTQyxjQUFjLGlCQUNqQ3VHLEVBQW9CeEcsU0FBU0MsY0FBYyxxQkFDM0N3RyxFQUFrQnpHLFNBQVNDLGNBQWMsZUFDN0N3RyxFQUFnQjlGLFVBQVVDLE9BQU8sUUFDakM2RixFQUFnQnBELFVBQVksR0FDNUIsSUFBSXFELEVBQW9CVixFQUFhSCxNQUNqQ2MsRUFBdUJULEVBQWdCTCxNQUN2Q2UsRUFBOEJULEVBQXVCTixNQUN6RCxJQUF1QyxLQUFuQy9FLEVBQUFBLEVBQUFBLFlBQVc0RixHQUNYaEcsRUFBUTJDLFVBQVksNERBQ3BCM0MsRUFBUUMsVUFBVUUsSUFBSSxhQUl0QixHQUZBSCxFQUFRMkMsVUFBWSxrREFDcEIzQyxFQUFRQyxVQUFVQyxPQUFPLFFBQ3JCZ0csSUFBZ0NELEVBQXNCLENBQ3RERixFQUFnQjlGLFVBQVVFLElBQUksUUFDOUIyRixFQUFtQjdGLFVBQVVDLE9BQU8sUUFDcEMsSUFBSWlHLEVBQVk1RixLQUFLQyxNQUFNQyxhQUFhQyxRQUFRLFVBQ2hEeUYsRUFBVUMsS0FDTixDQUNJLE1BQVNkLEVBQWFILE1BQ3RCLFNBQVlLLEVBQWdCTCxRQUVwQzFFLGFBQWE0RixRQUFRLFFBQVM5RixLQUFLK0YsVUFBVUgsSUFDN0NKLEVBQWdCcEQsVUFBWSxrQ0FDNUJ0QixZQUFXLEtBQ1BHLE9BQU9DLFNBQVNDLFFBQVEsa0JBQ3pCLFVBRUhvRSxFQUFtQjdGLFVBQVVFLElBQUksWUFLN0NtQixFQUFBQSxFQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2F2LXN0b3JlLy4vc3JjL2pzL3V0aWxzLmpzIiwid2VicGFjazovL2F2LXN0b3JlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2F2LXN0b3JlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9hdi1zdG9yZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2F2LXN0b3JlL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vYXYtc3RvcmUvLi9zcmMvanMvc2lnbi11cC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG5cclxubGV0IGRpc2FibGVGb3JtQnV0dG9uID0gZnVuY3Rpb24gKGZvcm0sIGJ1dHRvbkluRm9ybSkge1xyXG4gICAgYnV0dG9uSW5Gb3JtLmRpc2FibGVkID0gIWZvcm0uY2hlY2tWYWxpZGl0eSgpO1xyXG59XHJcblxyXG5sZXQgdG9nZ2xlSW5wdXRXYXJuaW5nID0gZnVuY3Rpb24gKGlucHV0RmllbGQsIHNlbGVjdG9yKSB7XHJcbiAgICBsZXQgZmluZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcilcclxuICAgIGxldCB3YXJuaW5nID0gZmluZElucHV0LnF1ZXJ5U2VsZWN0b3IoJy50ZXh0LXdhcm5pbmcnKTtcclxuICAgIGlmICghaW5wdXRGaWVsZC5jaGVja1ZhbGlkaXR5KCkpIHtcclxuICAgICAgICB3YXJuaW5nLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB3YXJuaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCB1c2VyTGlzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VycycpKTtcclxufVxyXG5cclxuY29uc3QgdXNlckZpbmRlciA9IGZ1bmN0aW9uIChlbWFpbFZhbHVlKSB7XHJcbiAgICBsZXQgdXNlcnMgPSB1c2VyTGlzdCgpO1xyXG4gICAgbGV0IHVzZXIgPSB1c2Vycy5maW5kSW5kZXgodXNlciA9PiB1c2VyLmVtYWlsID09PSBlbWFpbFZhbHVlKTtcclxuICAgIGlmICh1c2VyID09PSAtMSkge1xyXG4gICAgICAgIHJldHVybiAtMVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdXNlcnNbdXNlcl07XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBjaGVja1VzZXJEYXRhID0gZnVuY3Rpb24gKGVtYWlsVmFsdWUsIHBhc3N3b3JkVmFsdWUpIHtcclxuICAgIGxldCB1c2VyID0gdXNlckZpbmRlcihlbWFpbFZhbHVlKTtcclxuICAgIGlmICh1c2VyICE9PSAtMSkge1xyXG4gICAgICAgIHJldHVybiB1c2VyWydwYXNzd29yZCddID09PSBwYXNzd29yZFZhbHVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgbG9nb3V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tbG9nb3V0Jyk7XHJcbiAgICBsb2dvdXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjdGl2ZS11c2VyJyk7XHJcbiAgICAgICAgcmVkaXJlY3RUb0xvZ2luKClcclxuICAgIH0pXHJcbn1cclxuXHJcbmxldCB1bmF1dGhvcml6ZWRVc2VyQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgc3RhdHVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZS11c2VyJylcclxuICAgICAgICBpZiAoc3RhdHVzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJlZGlyZWN0VG9Mb2dpbigpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgMSlcclxufVxyXG5cclxubGV0IGF1dGhvcml6ZWRVc2VyQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgc3RhdHVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZS11c2VyJylcclxuICAgICAgICBpZiAoc3RhdHVzICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJlZGlyZWN0VG9Ib21lKClcclxuICAgICAgICB9XHJcbiAgICB9LCAxKVxyXG59XHJcblxyXG5sZXQgcmVkaXJlY3RUb0hvbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnLi9ob21lLmh0bWwnKVxyXG59XHJcblxyXG5sZXQgcmVkaXJlY3RUb0xvZ2luID0gZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy4vaW5kZXguaHRtbCcpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkge1xyXG4gICAgbGV0IGRkID0gZGF0ZS5nZXREYXRlKCk7XHJcbiAgICBpZiAoZGQgPCAxMCkgZGQgPSAnMCcgKyBkZDtcclxuXHJcbiAgICBsZXQgbW0gPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgaWYgKG1tIDwgMTApIG1tID0gJzAnICsgbW07XHJcblxyXG4gICAgbGV0IHl5ID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgaWYgKHl5IDwgMTApIHl5ID0gJzAnICsgeXk7XHJcblxyXG4gICAgcmV0dXJuIGRkICsgJy4nICsgbW0gKyAnLicgKyB5eTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TWF4T2ZBcnJheShudW1BcnJheSkge1xyXG4gICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIG51bUFycmF5KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3BlY2lmaWVkRG9tRWxlbWVudCh0YWdOYW1lLCBjbGFzc05hbWUsIGlubmVySFRNTCkge1xyXG4gICAgbGV0IGRvbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xyXG4gICAgZG9tRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgICBkb21FbGVtZW50LmlubmVySFRNTCA9IGlubmVySFRNTDtcclxuICAgIHJldHVybiBkb21FbGVtZW50XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbmZpcm1hdGlvbk1vZGFsKCkge1xyXG4gICAgbGV0IG1vZGFsID0gY3JlYXRlU3BlY2lmaWVkRG9tRWxlbWVudCgnZGl2JywgJ21vZGFsJywgJycpO1xyXG4gICAgbGV0IG1vZGFsSGVhZGVyID0gY3JlYXRlU3BlY2lmaWVkRG9tRWxlbWVudCgnaDQnLCAnbW9kYWwtaGVhZGVyJywgJ0NvbmZpcm1hdGlvbicsICcnKTtcclxuICAgIGxldCBtb2RhbEJvZHkgPSBjcmVhdGVTcGVjaWZpZWREb21FbGVtZW50KCdwJywgJ21vZGFsLWJvZHknLCAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZT8nKVxyXG4gICAgbGV0IG1vZGFsRm9vdGVyID0gY3JlYXRlU3BlY2lmaWVkRG9tRWxlbWVudCgnZGl2JywgJ21vZGFsLWZvb3RlcicsICcnKTtcclxuICAgIGxldCBkZWxldGVCdXR0b24gPSBjcmVhdGVTcGVjaWZpZWREb21FbGVtZW50KCdidXR0b24nLCAnYnRuJywgJ0RlbGV0ZScpO1xyXG4gICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bi1kYW5nZXInLCAnYnRuX19kZWxldGUnKVxyXG4gICAgbGV0IGNhbmNlbEJ1dHRvbiA9IGNyZWF0ZVNwZWNpZmllZERvbUVsZW1lbnQoJ2J1dHRvbicsICdidG4nLCAnQ2FuY2VsJyk7XHJcbiAgICBjYW5jZWxCdXR0b24uY2xhc3NMaXN0LmFkZCgnYnRuLXNlY29uZGFyeScsICdidG5fX2NhbmNlbCcpO1xyXG4gICAgbW9kYWwuYXBwZW5kKG1vZGFsSGVhZGVyKTtcclxuICAgIG1vZGFsLmFwcGVuZChtb2RhbEJvZHkpO1xyXG4gICAgbW9kYWwuYXBwZW5kKG1vZGFsRm9vdGVyKTtcclxuICAgIG1vZGFsRm9vdGVyLmFwcGVuZChkZWxldGVCdXR0b24pO1xyXG4gICAgbW9kYWxGb290ZXIuYXBwZW5kKGNhbmNlbEJ1dHRvbilcclxuICAgIGJvZHkuYXBwZW5kKG1vZGFsKVxyXG59XHJcblxyXG5mdW5jdGlvbiBub3RpZmljYXRpb24odGV4dCkge1xyXG4gICAgbGV0IHdpbmRvd05vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgd2luZG93Tm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ2JhZGdlJyk7XHJcbiAgICBsZXQgbm90aWZpY2F0aW9uSGVhZGVyID0gY3JlYXRlU3BlY2lmaWVkRG9tRWxlbWVudCgnaDQnLCAnbm90aWZpY2F0aW9uX19oZWFkZXInLCB0ZXh0KTtcclxuICAgIHdpbmRvd05vdGlmaWNhdGlvbi5hcHBlbmQobm90aWZpY2F0aW9uSGVhZGVyKTtcclxuICAgIGxldCBjbG9zZU5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgd2luZG93Tm90aWZpY2F0aW9uLmFwcGVuZChjbG9zZU5vdGlmaWNhdGlvbilcclxuICAgIGNsb3NlTm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ2J0bicsICdidG4tY2xvc2UnKTtcclxuICAgIGNsb3NlTm90aWZpY2F0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHdpbmRvd05vdGlmaWNhdGlvbi5yZW1vdmUoKTtcclxuICAgIH0pXHJcbiAgICBib2R5LmFwcGVuZCh3aW5kb3dOb3RpZmljYXRpb24pXHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBkaXNhYmxlRm9ybUJ1dHRvbixcclxuICAgIHRvZ2dsZUlucHV0V2FybmluZyxcclxuICAgIGNoZWNrVXNlckRhdGEsXHJcbiAgICB1c2VyRmluZGVyLFxyXG4gICAgbG9nb3V0LFxyXG4gICAgdW5hdXRob3JpemVkVXNlckNoZWNrLFxyXG4gICAgYXV0aG9yaXplZFVzZXJDaGVjayxcclxuICAgIHJlZGlyZWN0VG9Ib21lLFxyXG4gICAgZm9ybWF0RGF0ZSxcclxuICAgIGdldE1heE9mQXJyYXksXHJcbiAgICBjcmVhdGVTcGVjaWZpZWREb21FbGVtZW50LFxyXG4gICAgY3JlYXRlQ29uZmlybWF0aW9uTW9kYWwsXHJcbiAgICBub3RpZmljYXRpb25cclxufVxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IGRpc2FibGVGb3JtQnV0dG9uLCB0b2dnbGVJbnB1dFdhcm5pbmcsIHVzZXJGaW5kZXIsIGF1dGhvcml6ZWRVc2VyQ2hlY2t9IGZyb20gJy4vdXRpbHMuanMnXHJcblxyXG5sZXQgc2lnblVwRm9ybSA9IGRvY3VtZW50LmZvcm1zWydzaWduLXVwJ107XHJcbmxldCBuZXdVc2VyRW1haWwgPSBzaWduVXBGb3JtLmVsZW1lbnRzWyduZXctdXNlci1lbWFpbCddO1xyXG5sZXQgbmV3VXNlclBhc3N3b3JkID0gc2lnblVwRm9ybS5lbGVtZW50c1snbmV3LXVzZXItcGFzc3dvcmQnXTtcclxubGV0IG5ld1VzZXJDb25maXJtUGFzc3dvcmQgPSBzaWduVXBGb3JtLmVsZW1lbnRzWydjb25maXJtLXBhc3N3b3JkJ107XHJcbmxldCBzaWduVXBCdXR0b24gPSBzaWduVXBGb3JtLmVsZW1lbnRzWydzaWduLXVwLWJ1dHRvbiddXHJcblxyXG5zaWduVXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgZGlzYWJsZUZvcm1CdXR0b24odGhpcywgc2lnblVwQnV0dG9uKVxyXG59KTtcclxuXHJcbm5ld1VzZXJFbWFpbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB0b2dnbGVJbnB1dFdhcm5pbmcodGhpcywgJy5pbnB1dC1lbWFpbCcpXHJcbn0pXHJcblxyXG5uZXdVc2VyUGFzc3dvcmQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgdG9nZ2xlSW5wdXRXYXJuaW5nKHRoaXMsICcuaW5wdXQtcGFzc3dvcmQnKVxyXG59KVxyXG5cclxuc2lnblVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBsZXQgd2FybmluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXh0LXdhcm5pbmcnKTtcclxuICAgIGxldCBwYXNzd29yZHNEb05vdE11Y2g9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb25maXJtLXBhc3N3b3JkJylcclxuICAgIGxldCByZWdpc3Rlck1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVnaXN0ZXJlZCcpXHJcbiAgICByZWdpc3Rlck1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xyXG4gICAgcmVnaXN0ZXJNZXNzYWdlLmlubmVySFRNTCA9ICcnO1xyXG4gICAgbGV0IG5ld1VzZXJFbWFpbFZhbHVlID0gbmV3VXNlckVtYWlsLnZhbHVlO1xyXG4gICAgbGV0IG5ld1VzZXJQYXNzd29yZFZhbHVlID0gbmV3VXNlclBhc3N3b3JkLnZhbHVlO1xyXG4gICAgbGV0IG5ld1VzZXJDb25maXJtUGFzc3dvcmRWYWx1ZSA9IG5ld1VzZXJDb25maXJtUGFzc3dvcmQudmFsdWU7XHJcbiAgICBpZiAodXNlckZpbmRlcihuZXdVc2VyRW1haWxWYWx1ZSkgIT09IC0xKSB7XHJcbiAgICAgICAgd2FybmluZy5pbm5lckhUTUwgPSAnQSB1c2VyIHdpdGggdGhlIHNhbWUgZW1haWwgYWxyZWFkeSBleGlzdHMuIFRyeSB0byBTaWduIEluJztcclxuICAgICAgICB3YXJuaW5nLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd2FybmluZy5pbm5lckhUTUwgPSAnVGhlIGVtYWlsIGFkZHJlc3MgaXMgaW5jb3JyZWN0LiBQbGVhc2UgcmV0cnkuLi4nXHJcbiAgICAgICAgd2FybmluZy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XHJcbiAgICAgICAgaWYgKG5ld1VzZXJDb25maXJtUGFzc3dvcmRWYWx1ZSA9PT0gbmV3VXNlclBhc3N3b3JkVmFsdWUpIHtcclxuICAgICAgICAgICAgcmVnaXN0ZXJNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcclxuICAgICAgICAgICAgcGFzc3dvcmRzRG9Ob3RNdWNoLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcclxuICAgICAgICAgICAgbGV0IHVzZXJzTGlzdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJzJykpO1xyXG4gICAgICAgICAgICB1c2Vyc0xpc3QucHVzaChcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiBuZXdVc2VyRW1haWwudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJzogbmV3VXNlclBhc3N3b3JkLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJzJywgSlNPTi5zdHJpbmdpZnkodXNlcnNMaXN0KSk7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVyTWVzc2FnZS5pbm5lckhUTUwgPSAnWW91IGFyZSBzdWNjZXNzZnVsbHkgU2lnbmVkIFVwISdcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnLi9pbmRleC5odG1sJylcclxuICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGFzc3dvcmRzRG9Ob3RNdWNoLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pXHJcblxyXG5hdXRob3JpemVkVXNlckNoZWNrKClcclxuXHJcblxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJib2R5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZGlzYWJsZUZvcm1CdXR0b24iLCJmb3JtIiwiYnV0dG9uSW5Gb3JtIiwiZGlzYWJsZWQiLCJjaGVja1ZhbGlkaXR5IiwidG9nZ2xlSW5wdXRXYXJuaW5nIiwiaW5wdXRGaWVsZCIsInNlbGVjdG9yIiwid2FybmluZyIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInVzZXJGaW5kZXIiLCJlbWFpbFZhbHVlIiwidXNlcnMiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidXNlciIsImZpbmRJbmRleCIsImVtYWlsIiwiY2hlY2tVc2VyRGF0YSIsInBhc3N3b3JkVmFsdWUiLCJsb2dvdXQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlSXRlbSIsInJlZGlyZWN0VG9Mb2dpbiIsInVuYXV0aG9yaXplZFVzZXJDaGVjayIsInNldFRpbWVvdXQiLCJhdXRob3JpemVkVXNlckNoZWNrIiwicmVkaXJlY3RUb0hvbWUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlcGxhY2UiLCJmb3JtYXREYXRlIiwiZGF0ZSIsImRkIiwiZ2V0RGF0ZSIsIm1tIiwiZ2V0TW9udGgiLCJ5eSIsImdldEZ1bGxZZWFyIiwiZ2V0TWF4T2ZBcnJheSIsIm51bUFycmF5IiwiTWF0aCIsIm1heCIsImFwcGx5IiwiY3JlYXRlU3BlY2lmaWVkRG9tRWxlbWVudCIsInRhZ05hbWUiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJkb21FbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZUNvbmZpcm1hdGlvbk1vZGFsIiwibW9kYWwiLCJtb2RhbEhlYWRlciIsIm1vZGFsQm9keSIsIm1vZGFsRm9vdGVyIiwiZGVsZXRlQnV0dG9uIiwiY2FuY2VsQnV0dG9uIiwiYXBwZW5kIiwibm90aWZpY2F0aW9uIiwidGV4dCIsIndpbmRvd05vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbkhlYWRlciIsImNsb3NlTm90aWZpY2F0aW9uIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJzaWduVXBGb3JtIiwiZm9ybXMiLCJuZXdVc2VyRW1haWwiLCJlbGVtZW50cyIsIm5ld1VzZXJQYXNzd29yZCIsIm5ld1VzZXJDb25maXJtUGFzc3dvcmQiLCJzaWduVXBCdXR0b24iLCJ0aGlzIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInBhc3N3b3Jkc0RvTm90TXVjaCIsInJlZ2lzdGVyTWVzc2FnZSIsIm5ld1VzZXJFbWFpbFZhbHVlIiwibmV3VXNlclBhc3N3b3JkVmFsdWUiLCJuZXdVc2VyQ29uZmlybVBhc3N3b3JkVmFsdWUiLCJ1c2Vyc0xpc3QiLCJwdXNoIiwic2V0SXRlbSIsInN0cmluZ2lmeSJdLCJzb3VyY2VSb290IjoiIn0=