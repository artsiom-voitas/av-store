/*! For license information please see sign-up.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/js/utils.js":(e,t,n)=>{n.r(t),n.d(t,{authorizedUserCheck:()=>u,checkUserData:()=>i,disableFormButton:()=>r,logout:()=>a,redirectToHome:()=>c,toggleInputWarning:()=>o,unauthorizedUserCheck:()=>l,userFinder:()=>s});let r=function(e,t){t.disabled=!e.checkValidity()},o=function(e,t){let n=document.querySelector(t).querySelector(".text-warning");e.checkValidity()?n.classList.remove("show"):n.classList.add("show")};const s=function(e){let t=JSON.parse(localStorage.getItem("users")),n=t.findIndex((t=>t.email===e));return-1===n?-1:t[n]};let i=function(e,t){let n=s(e);if(-1!==n)return n.password===t},a=function(){document.querySelector(".btn-logout").addEventListener("click",(function(){localStorage.removeItem("active-user"),d()}))},l=function(){setTimeout((function(){null===localStorage.getItem("active-user")&&d()}),1)},u=function(){setTimeout((function(){null!==localStorage.getItem("active-user")&&c()}),1)},c=function(){window.location.replace("./home.html")},d=function(){window.location.replace("./index.html")}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{n.r(r);var e=n("./src/js/utils.js");let t=document.forms["sign-up"],o=t.elements["new-user-email"],s=t.elements["new-user-password"],i=t.elements["confirm-password"],a=t.elements["sign-up-button"];t.addEventListener("input",(function(){(0,e.disableFormButton)(this,a)})),o.addEventListener("change",(function(){(0,e.toggleInputWarning)(this,".input-email")})),s.addEventListener("change",(function(){(0,e.toggleInputWarning)(this,".input-password")})),t.addEventListener("submit",(function(t){t.preventDefault();let n=document.querySelector(".text-warning"),r=document.querySelector(".confirm-password"),a=document.querySelector(".registered");a.classList.remove("show"),a.innerHTML="";let l=o.value,u=s.value,c=i.value;if(-1!==(0,e.userFinder)(l))n.innerHTML="A user with the same email already exists. Try to Sign In",n.classList.add("show");else if(n.innerHTML="The email address is incorrect. Please retry...",n.classList.remove("show"),c===u){a.classList.add("show"),r.classList.remove("show");let e=JSON.parse(localStorage.getItem("users"));e.push({email:o.value,password:s.value}),localStorage.setItem("users",JSON.stringify(e)),a.innerHTML="You are successfully Signed Up!",setTimeout((()=>{window.location.replace("./index.html")}),2e3)}else r.classList.add("show")})),(0,e.authorizedUserCheck)()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxFQUFvQlgsRUFBYUgsTUFDakNlLEVBQXVCVixFQUFnQkwsTUFDdkNnQixFQUE4QlYsRUFBdUJOLE1BQ3pELElBQXVDLEtBQW5DL0MsRUFBQUEsRUFBQUEsWUFBVzZELEdBQ1huRSxFQUFRa0UsVUFBWSw0REFDcEJsRSxFQUFRRyxVQUFVRSxJQUFJLGFBSXRCLEdBRkFMLEVBQVFrRSxVQUFZLGtEQUNwQmxFLEVBQVFHLFVBQVVDLE9BQU8sUUFDckJpRSxJQUFnQ0QsRUFBc0IsQ0FDdERILEVBQWdCOUQsVUFBVUUsSUFBSSxRQUM5QjJELEVBQW1CN0QsVUFBVUMsT0FBTyxRQUNwQyxJQUFJa0UsRUFBWTdELEtBQUtDLE1BQU1DLGFBQWFDLFFBQVEsVUFDaEQwRCxFQUFVQyxLQUNOLENBQ0ksTUFBU2YsRUFBYUgsTUFDdEIsU0FBWUssRUFBZ0JMLFFBRXBDMUMsYUFBYTZELFFBQVEsUUFBUy9ELEtBQUtnRSxVQUFVSCxJQUM3Q0wsRUFBZ0JDLFVBQVksa0NBQzVCM0MsWUFBVyxLQUNQRyxPQUFPQyxTQUFTQyxRQUFRLGtCQUN6QixVQUVIb0MsRUFBbUI3RCxVQUFVRSxJQUFJLFlBSzdDbUIsRUFBQUEsRUFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdi1zdG9yZS8uL3NyYy9qcy91dGlscy5qcyIsIndlYnBhY2s6Ly9hdi1zdG9yZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9hdi1zdG9yZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYXYtc3RvcmUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9hdi1zdG9yZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2F2LXN0b3JlLy4vc3JjL2pzL3NpZ24tdXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IGRpc2FibGVGb3JtQnV0dG9uID0gZnVuY3Rpb24gKGZvcm0sIGJ1dHRvbkluRm9ybSkge1xyXG4gICAgYnV0dG9uSW5Gb3JtLmRpc2FibGVkID0gIWZvcm0uY2hlY2tWYWxpZGl0eSgpO1xyXG59XHJcblxyXG5sZXQgdG9nZ2xlSW5wdXRXYXJuaW5nID0gZnVuY3Rpb24gKGlucHV0RmllbGQsIHNlbGVjdG9yKSB7XHJcbiAgICBsZXQgZmluZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcilcclxuICAgIGxldCB3YXJuaW5nID0gZmluZElucHV0LnF1ZXJ5U2VsZWN0b3IoJy50ZXh0LXdhcm5pbmcnKTtcclxuICAgIGlmICghaW5wdXRGaWVsZC5jaGVja1ZhbGlkaXR5KCkpIHtcclxuICAgICAgICB3YXJuaW5nLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB3YXJuaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCB1c2VyTGlzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VycycpKTtcclxufVxyXG5cclxuY29uc3QgdXNlckZpbmRlciA9IGZ1bmN0aW9uIChlbWFpbFZhbHVlKSB7XHJcbiAgICBsZXQgdXNlcnMgPSB1c2VyTGlzdCgpO1xyXG4gICAgbGV0IHVzZXIgPSB1c2Vycy5maW5kSW5kZXgodXNlciA9PiB1c2VyLmVtYWlsID09PSBlbWFpbFZhbHVlKTtcclxuICAgIGlmICh1c2VyID09PSAtMSkge1xyXG4gICAgICAgIHJldHVybiAtMVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdXNlcnNbdXNlcl07XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCBjaGVja1VzZXJEYXRhID0gZnVuY3Rpb24gKGVtYWlsVmFsdWUsIHBhc3N3b3JkVmFsdWUpIHtcclxuICAgIGxldCB1c2VyID0gdXNlckZpbmRlcihlbWFpbFZhbHVlKTtcclxuICAgIGlmICh1c2VyICE9PSAtMSkge1xyXG4gICAgICAgIHJldHVybiB1c2VyWydwYXNzd29yZCddID09PSBwYXNzd29yZFZhbHVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgbG9nb3V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGxvZ291dEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tbG9nb3V0Jyk7XHJcbiAgICBsb2dvdXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjdGl2ZS11c2VyJyk7XHJcbiAgICAgICAgcmVkaXJlY3RUb0xvZ2luKClcclxuICAgIH0pXHJcbn1cclxuXHJcbmxldCB1bmF1dGhvcml6ZWRVc2VyQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgc3RhdHVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZS11c2VyJylcclxuICAgICAgICBpZiAoc3RhdHVzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJlZGlyZWN0VG9Mb2dpbigpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgMSlcclxufVxyXG5cclxubGV0IGF1dGhvcml6ZWRVc2VyQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgc3RhdHVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjdGl2ZS11c2VyJylcclxuICAgICAgICBpZiAoc3RhdHVzICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJlZGlyZWN0VG9Ib21lKClcclxuICAgICAgICB9XHJcbiAgICB9LCAxKVxyXG59XHJcblxyXG5sZXQgcmVkaXJlY3RUb0hvbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnLi9ob21lLmh0bWwnKVxyXG59XHJcblxyXG5sZXQgcmVkaXJlY3RUb0xvZ2luID0gZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy4vaW5kZXguaHRtbCcpXHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBkaXNhYmxlRm9ybUJ1dHRvbixcclxuICAgIHRvZ2dsZUlucHV0V2FybmluZyxcclxuICAgIGNoZWNrVXNlckRhdGEsXHJcbiAgICB1c2VyRmluZGVyLFxyXG4gICAgbG9nb3V0LFxyXG4gICAgdW5hdXRob3JpemVkVXNlckNoZWNrLFxyXG4gICAgYXV0aG9yaXplZFVzZXJDaGVjayxcclxuICAgIHJlZGlyZWN0VG9Ib21lXHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBkaXNhYmxlRm9ybUJ1dHRvbiwgdG9nZ2xlSW5wdXRXYXJuaW5nLCB1c2VyRmluZGVyLCBhdXRob3JpemVkVXNlckNoZWNrfSBmcm9tICcuL3V0aWxzLmpzJ1xyXG5cclxubGV0IHNpZ25VcEZvcm0gPSBkb2N1bWVudC5mb3Jtc1snc2lnbi11cCddO1xyXG5sZXQgbmV3VXNlckVtYWlsID0gc2lnblVwRm9ybS5lbGVtZW50c1snbmV3LXVzZXItZW1haWwnXTtcclxubGV0IG5ld1VzZXJQYXNzd29yZCA9IHNpZ25VcEZvcm0uZWxlbWVudHNbJ25ldy11c2VyLXBhc3N3b3JkJ107XHJcbmxldCBuZXdVc2VyQ29uZmlybVBhc3N3b3JkID0gc2lnblVwRm9ybS5lbGVtZW50c1snY29uZmlybS1wYXNzd29yZCddO1xyXG5sZXQgc2lnblVwQnV0dG9uID0gc2lnblVwRm9ybS5lbGVtZW50c1snc2lnbi11cC1idXR0b24nXVxyXG5cclxuc2lnblVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIGRpc2FibGVGb3JtQnV0dG9uKHRoaXMsIHNpZ25VcEJ1dHRvbilcclxufSk7XHJcblxyXG5uZXdVc2VyRW1haWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgdG9nZ2xlSW5wdXRXYXJuaW5nKHRoaXMsICcuaW5wdXQtZW1haWwnKVxyXG59KVxyXG5cclxubmV3VXNlclBhc3N3b3JkLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIHRvZ2dsZUlucHV0V2FybmluZyh0aGlzLCAnLmlucHV0LXBhc3N3b3JkJylcclxufSlcclxuXHJcbnNpZ25VcEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbGV0IHdhcm5pbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGV4dC13YXJuaW5nJyk7XHJcbiAgICBsZXQgcGFzc3dvcmRzRG9Ob3RNdWNoPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29uZmlybS1wYXNzd29yZCcpXHJcbiAgICBsZXQgcmVnaXN0ZXJNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlZ2lzdGVyZWQnKVxyXG4gICAgcmVnaXN0ZXJNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcclxuICAgIHJlZ2lzdGVyTWVzc2FnZS5pbm5lckhUTUwgPSAnJztcclxuICAgIGxldCBuZXdVc2VyRW1haWxWYWx1ZSA9IG5ld1VzZXJFbWFpbC52YWx1ZTtcclxuICAgIGxldCBuZXdVc2VyUGFzc3dvcmRWYWx1ZSA9IG5ld1VzZXJQYXNzd29yZC52YWx1ZTtcclxuICAgIGxldCBuZXdVc2VyQ29uZmlybVBhc3N3b3JkVmFsdWUgPSBuZXdVc2VyQ29uZmlybVBhc3N3b3JkLnZhbHVlO1xyXG4gICAgaWYgKHVzZXJGaW5kZXIobmV3VXNlckVtYWlsVmFsdWUpICE9PSAtMSkge1xyXG4gICAgICAgIHdhcm5pbmcuaW5uZXJIVE1MID0gJ0EgdXNlciB3aXRoIHRoZSBzYW1lIGVtYWlsIGFscmVhZHkgZXhpc3RzLiBUcnkgdG8gU2lnbiBJbic7XHJcbiAgICAgICAgd2FybmluZy5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdhcm5pbmcuaW5uZXJIVE1MID0gJ1RoZSBlbWFpbCBhZGRyZXNzIGlzIGluY29ycmVjdC4gUGxlYXNlIHJldHJ5Li4uJ1xyXG4gICAgICAgIHdhcm5pbmcuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xyXG4gICAgICAgIGlmIChuZXdVc2VyQ29uZmlybVBhc3N3b3JkVmFsdWUgPT09IG5ld1VzZXJQYXNzd29yZFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVyTWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XHJcbiAgICAgICAgICAgIHBhc3N3b3Jkc0RvTm90TXVjaC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XHJcbiAgICAgICAgICAgIGxldCB1c2Vyc0xpc3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VycycpKTtcclxuICAgICAgICAgICAgdXNlcnNMaXN0LnB1c2goXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogbmV3VXNlckVtYWlsLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IG5ld1VzZXJQYXNzd29yZC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VycycsIEpTT04uc3RyaW5naWZ5KHVzZXJzTGlzdCkpO1xyXG4gICAgICAgICAgICByZWdpc3Rlck1lc3NhZ2UuaW5uZXJIVE1MID0gJ1lvdSBhcmUgc3VjY2Vzc2Z1bGx5IFNpZ25lZCBVcCEnXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy4vaW5kZXguaHRtbCcpXHJcbiAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhc3N3b3Jkc0RvTm90TXVjaC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KVxyXG5cclxuYXV0aG9yaXplZFVzZXJDaGVjaygpXHJcblxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiZGlzYWJsZUZvcm1CdXR0b24iLCJmb3JtIiwiYnV0dG9uSW5Gb3JtIiwiZGlzYWJsZWQiLCJjaGVja1ZhbGlkaXR5IiwidG9nZ2xlSW5wdXRXYXJuaW5nIiwiaW5wdXRGaWVsZCIsInNlbGVjdG9yIiwid2FybmluZyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInVzZXJGaW5kZXIiLCJlbWFpbFZhbHVlIiwidXNlcnMiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidXNlciIsImZpbmRJbmRleCIsImVtYWlsIiwiY2hlY2tVc2VyRGF0YSIsInBhc3N3b3JkVmFsdWUiLCJsb2dvdXQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlSXRlbSIsInJlZGlyZWN0VG9Mb2dpbiIsInVuYXV0aG9yaXplZFVzZXJDaGVjayIsInNldFRpbWVvdXQiLCJhdXRob3JpemVkVXNlckNoZWNrIiwicmVkaXJlY3RUb0hvbWUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlcGxhY2UiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInNpZ25VcEZvcm0iLCJmb3JtcyIsIm5ld1VzZXJFbWFpbCIsImVsZW1lbnRzIiwibmV3VXNlclBhc3N3b3JkIiwibmV3VXNlckNvbmZpcm1QYXNzd29yZCIsInNpZ25VcEJ1dHRvbiIsInRoaXMiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwicGFzc3dvcmRzRG9Ob3RNdWNoIiwicmVnaXN0ZXJNZXNzYWdlIiwiaW5uZXJIVE1MIiwibmV3VXNlckVtYWlsVmFsdWUiLCJuZXdVc2VyUGFzc3dvcmRWYWx1ZSIsIm5ld1VzZXJDb25maXJtUGFzc3dvcmRWYWx1ZSIsInVzZXJzTGlzdCIsInB1c2giLCJzZXRJdGVtIiwic3RyaW5naWZ5Il0sInNvdXJjZVJvb3QiOiIifQ==